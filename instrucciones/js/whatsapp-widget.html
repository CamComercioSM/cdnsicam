<!-- instrucciones/js/widget-whatsapp.html -->

<h6 class="mb-2">Widget flotante de WhatsApp ‚Äì <code>whatsapp-widget.js</code></h6>

<p class="small mb-2">
    <strong>Qu√© hace:</strong><br>
    Agrega un bot√≥n flotante de WhatsApp con un mini‚Äìformulario para redactar el mensaje
    antes de abrir la conversaci√≥n en <code>https://wa.me</code>.
</p>

<p class="small mb-2">
    <strong>D√≥nde est√°:</strong><br>
    Archivo JS en el CDN:
    <code>https://cdnsicam.net/js/whatsapp-widget.js</code><br>
    Ruta relativa esperada:
    <code>/js/whatsapp-widget.js</code>
</p>

<p class="small mb-2">
    <strong>Cu√°ndo se ejecuta:</strong><br>
    Autom√°ticamente cuando el DOM termina de cargar
    (<code>DOMContentLoaded</code>). No requiere inicializaci√≥n manual.
</p>

<hr class="my-2" />

<h6 class="mb-2">1. Inclusi√≥n m√≠nima en una p√°gina</h6>

<ol class="small ps-3 mb-2">
    <li class="mb-1">
        Agrega en el <code>&lt;body&gt;</code> el contenedor ra√≠z donde se inyectar√° el widget:
    </li>
</ol>

<pre class="small bg-light p-2 rounded mb-2"><code>&lt;!-- Ra√≠z donde se inyectar√° el widget --&gt;
&lt;div id="widget-whatsapp-raiz"&gt;&lt;/div&gt;</code></pre>

<ol start="2" class="small ps-3 mb-2">
    <li class="mb-1">
        (Opcional pero recomendado) Define la configuraci√≥n espec√≠fica de esa p√°gina <strong>antes</strong> de cargar el script:
    </li>
</ol>

<pre class="small bg-light p-2 rounded mb-2"><code>&lt;script&gt;
    window.CONFIGURACION_WIDGET_WHATSAPP = {
        telefono: "573218150243",
        posicion: "derecha-abajo",           // ver lista de posiciones m√°s abajo
        textoBoton: "Chatea por WhatsApp",
        mensajePredeterminado: "Hola, vengo desde la p√°gina de contacto y quiero m√°s informaci√≥n.",
        nombreMarca: "RutaC CamComercoSM",
        subtituloMarca: "Soporte en l√≠nea",
        textoBienvenida: "¬°Hola! Cu√©ntanos en qu√© podemos apoyarte üòä",
        abrirAutomaticamente: false
        // cualquier campo que omitas usa el valor por defecto del widget
    };
&lt;/script&gt;</code></pre>

<ol start="3" class="small ps-3 mb-2">
    <li class="mb-1">
        Finalmente, incluye el archivo JS del widget (idealmente al final del <code>&lt;body&gt;</code>):
    </li>
</ol>

<pre class="small bg-light p-2 rounded mb-2"><code>&lt;!-- Desde el proyecto --&gt;
&lt;script src="/js/whatsapp-widget.js"&gt;&lt;/script&gt;

&lt;!-- O desde el CDN corporativo --&gt;
&lt;script src="https://cdnsicam.net/js/whatsapp-widget.js"&gt;&lt;/script&gt;</code></pre>

<hr class="my-2" />

<h6 class="mb-2">2. Configuraci√≥n disponible</h6>

<p class="small mb-1">
    Todos estos campos son opcionales. Si no se definen en
    <code>window.CONFIGURACION_WIDGET_WHATSAPP</code>, el widget usa sus valores por defecto.
</p>

<ul class="small ps-3 mb-2">
    <li><code>telefono</code> (string)<br>
        N√∫mero de WhatsApp con indicativo de pa√≠s, solo d√≠gitos (sin <code>+</code>).
        <br><em>Ejemplo:</em> <code>"573218150243"</code>.
    </li>
    <li class="mt-1"><code>mensajePredeterminado</code> (string)<br>
        Mensaje base que se enviar√° si el usuario no modifica el texto.
    </li>
    <li class="mt-1"><code>posicion</code> (string)<br>
        Define en qu√© parte de la pantalla aparece el bot√≥n:
        <ul class="ps-3 mb-1">
            <li><code>"izquierda-abajo"</code> (por defecto)</li>
            <li><code>"izquierda-centro"</code></li>
            <li><code>"izquierda-arriba"</code></li>
            <li><code>"derecha-abajo"</code></li>
            <li><code>"derecha-centro"</code></li>
            <li><code>"derecha-arriba"</code></li>
        </ul>
        Compatibilidad adicional (si alguna vez lo llamaste en ingl√©s):
        <code>"left"</code>, <code>"left-bottom"</code> ‚Üí <code>"izquierda-abajo"</code><br>
        <code>"right"</code>, <code>"right-bottom"</code> ‚Üí <code>"derecha-abajo"</code>
    </li>
    <li class="mt-1"><code>textoBoton</code> (string)<br>
        Texto que se muestra junto al √≠cono de WhatsApp en el bot√≥n flotante.
    </li>
    <li class="mt-1"><code>fondoBoton</code> (string)<br>
        Color de fondo del bot√≥n (hex o cualquier valor CSS v√°lido). Ej: <code>"#00e785"</code>.
    </li>
    <li class="mt-1"><code>colorTextoBoton</code> (string)<br>
        Color del texto del bot√≥n. Ej: <code>"#ffffff"</code>.
    </li>
    <li class="mt-1"><code>radioBorde</code> (string)<br>
        Radio del borde del bot√≥n. Ej: <code>"25px"</code> para pill redondeado.
    </li>
    <li class="mt-1"><code>margenInferior</code> (string)<br>
        Separaci√≥n inferior respecto al borde de la pantalla. Ej: <code>"20px"</code>.
    </li>
    <li class="mt-1"><code>margenLateral</code> (string)<br>
        Separaci√≥n lateral (izquierda o derecha seg√∫n la posici√≥n). Ej: <code>"20px"</code>.
    </li>
    <li class="mt-1"><code>nombreMarca</code> (string)<br>
        T√≠tulo que se muestra en el encabezado del popup (ej. nombre del √°rea o campa√±a).
    </li>
    <li class="mt-1"><code>subtituloMarca</code> (string)<br>
        L√≠nea secundaria bajo el t√≠tulo, por ejemplo <em>"Soporte en l√≠nea"</em>.
    </li>
    <li class="mt-1"><code>imagenMarca</code> (string)<br>
        URL de la imagen / avatar que aparece en el encabezado.<br>
        Por defecto apunta a:
        <code>https://cdnsicam.net/img/rutac/rutac-whatsapp-cuadrado.png</code>
    </li>
    <li class="mt-1"><code>textoBienvenida</code> (string)<br>
        Mensaje de bienvenida que aparece arriba del campo de texto.
    </li>
    <li class="mt-1"><code>abrirAutomaticamente</code> (boolean)<br>
        Si es <code>true</code>, el mini‚Äìformulario aparecer√° abierto al cargar la p√°gina.
    </li>
    <li class="mt-1"><code>zIndice</code> (number)<br>
        Z‚Äìindex del contenedor, para garantizar que quede por encima de otros elementos.
        Por defecto: <code>99999</code>.
    </li>
</ul>

<hr class="my-2" />

<h6 class="mb-2">3. Buenas pr√°cticas</h6>

<ul class="small ps-3 mb-2">
    <li>Incluir <code>whatsapp-widget.js</code> una sola vez por layout/base del sitio.</li>
    <li>Usar <code>window.CONFIGURACION_WIDGET_WHATSAPP</code> para personalizar por p√°gina
        (n√∫mero, textos, posici√≥n, campa√±a, etc.).</li>
    <li>Verificar que el n√∫mero configurado pertenezca al canal oficial aprobado para WhatsApp.</li>
    <li>En p√°ginas con mucho contenido, preferir posiciones inferiores
        (<code>"derecha-abajo"</code> o <code>"izquierda-abajo"</code>)
        para no tapar elementos cr√≠ticos.</li>
    <li>Si se usa en varias campa√±as, documentar cada configuraci√≥n en el repositorio del proyecto
        (qu√© p√°gina apunta a qu√© n√∫mero, con qu√© mensaje).</li>
</ul>

<hr class="my-2" />

<h6 class="mb-2">4. Ejemplo completo t√≠pico</h6>

<pre class="small bg-light p-2 rounded mb-0"><code>&lt;!-- Ra√≠z del widget --&gt;
&lt;div id="widget-whatsapp-raiz"&gt;&lt;/div&gt;

&lt;!-- Configuraci√≥n para esta p√°gina --&gt;
&lt;script&gt;
    window.CONFIGURACION_WIDGET_WHATSAPP = {
        telefono: "573218150243",
        posicion: "derecha-abajo",
        textoBoton: "Escr√≠benos por WhatsApp",
        mensajePredeterminado: "Hola, vengo desde la p√°gina de tr√°mites y tengo una duda.",
        nombreMarca: "C√°mara de Comercio de Santa Marta",
        subtituloMarca: "Atenci√≥n al empresario",
        textoBienvenida: "¬°Hola! ¬øEn qu√© podemos ayudarte hoy?",
        abrirAutomaticamente: false
    };
&lt;/script&gt;

&lt;!-- JS del widget (ruta local o CDN) --&gt;
&lt;script src="https://cdnsicam.net/js/whatsapp-widget.js"&gt;&lt;/script&gt;</code></pre>
